<div class="explore-suppliers">
  <div class="page-header">
    <h1>{{ i18n.translate('suppliers.exploreSuppliers') }}</h1>
    <div class="header-actions">
      <div class="search-bar">
        <input 
          type="text" 
          [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()" 
          (input)="onSearch()"
          [placeholder]="i18n.translate('suppliers.searchPlaceholder')"
          class="search-input"
        >
        <button class="search-btn">
          <i class="icon-search"></i>
        </button>
      </div>
    </div>
  </div>

  <div class="recommended-section">
    <h2>{{ i18n.translate('suppliers.recommendedForYou') }}</h2>
    <p class="section-description">{{ i18n.translate('suppliers.suppliersMatchPatterns') }}</p>
    
    <div class="recommended-grid">
      <div class="supplier-card recommended" *ngFor="let supplier of recommendedSuppliersList" [attr.data-supplier-id]="supplier.id">
        <div class="supplier-header">
          <div class="supplier-logo">
            <img [src]="supplier.logo" [alt]="supplier.name" class="logo-image">
          </div>
          <div class="supplier-info">
            <h3>{{ supplier.name }}</h3>
            <p>{{ supplier.description }}</p>
            <div class="supplier-rating">
              <span class="rating">⭐ {{ supplier.rating }}</span>
            </div>
          </div>
          <div class="supplier-actions">
            <button class="add-btn" (click)="addSupplier(supplier)">
              <i class="icon-plus"></i> {{ i18n.translate('suppliers.addSupplier') }}
            </button>
            <button class="view-btn" (click)="viewSupplier(supplier)">
              <i class="icon-eye"></i> {{ i18n.translate('common.view') }}
            </button>
          </div>
        </div>
        <div class="supplier-tags">
          <span class="tag recommended-tag" *ngIf="supplier.isRecommended">{{ i18n.translate('common.recommended') }}</span>
          <span class="tag new-tag" *ngIf="supplier.isNew">{{ i18n.translate('common.new') }}</span>
          <span class="tag offer-tag" *ngIf="supplier.hasSpecialOffer">{{ i18n.translate('common.specialOffer') }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="category-section">
    <h3>{{ i18n.translate('common.filterByCategory') }}</h3>
    <div class="category-grid">
      <div 
        class="category-item" 
        *ngFor="let category of categories"
        [class.selected]="selectedCategory === category.id"
        (click)="onCategorySelect(category.id)"
      >
        <div class="category-icon">{{ category.icon }}</div>
        <span class="category-name">{{ category.name }}</span>
      </div>
    </div>
  </div>

  <div class="filters-section">
    <h3>{{ i18n.translate('common.additionalFilters') }}</h3>
    <div class="filters-grid">
      <label class="filter-item">
        <input 
          type="checkbox" 
          [ngModel]="selectedFilters.freeDelivery"
          (ngModelChange)="onFilterChange('freeDelivery')"
        >
        <span class="filter-label">{{ i18n.translate('common.freeDelivery') }}</span>
      </label>
      <label class="filter-item">
        <input 
          type="checkbox" 
          [ngModel]="selectedFilters.coDelivery"
          (ngModelChange)="onFilterChange('coDelivery')"
        >
        <span class="filter-label">{{ i18n.translate('common.coDelivery') }}</span>
      </label>
      <label class="filter-item">
        <input 
          type="checkbox" 
          [ngModel]="selectedFilters.onSale"
          (ngModelChange)="onFilterChange('onSale')"
        >
        <span class="filter-label">{{ i18n.translate('common.onSale') }}</span>
      </label>
      <label class="filter-item">
        <input 
          type="checkbox" 
          [ngModel]="selectedFilters.newProducts"
          (ngModelChange)="onFilterChange('newProducts')"
        >
        <span class="filter-label">{{ i18n.translate('common.newProducts') }}</span>
      </label>
    </div>
  </div>

  <div class="all-suppliers-section">
    <h2>{{ i18n.translate('suppliers.allSuppliers') }}</h2>
    <p class="section-description">{{ i18n.translate('suppliers.browseAllSuppliers') }}</p>
    
    <div class="suppliers-grid">
      <div 
        class="supplier-card" 
        *ngFor="let supplier of filteredSuppliers"
        [class]="getStatusClass(supplier)"
        [attr.data-supplier-id]="supplier.id"
      >
        <div class="supplier-header">
          <div class="supplier-logo">
            <img [src]="supplier.logo" [alt]="supplier.name" class="logo-image">
          </div>
          <div class="supplier-info">
            <h3>{{ supplier.name }}</h3>
            <p>{{ supplier.description }}</p>
            <div class="supplier-rating">
              <span class="rating">⭐ {{ supplier.rating }}</span>
            </div>
          </div>
          <div class="supplier-actions">
            <button class="view-btn" (click)="viewSupplier(supplier)">
              <i class="icon-eye"></i> {{ i18n.translate('common.view') }}
            </button>
            <button class="add-btn" (click)="addSupplier(supplier)">
              <i class="icon-plus"></i> {{ i18n.translate('common.add') }}
            </button>
          </div>
        </div>
        
        <div class="supplier-tags">
          <span class="tag" [class]="getStatusClass(supplier) + '-tag'">
            {{ getSupplierStatus(supplier) }}
          </span>
          <span class="tag delivery-tag" *ngFor="let option of supplier.deliveryOptions">
            {{ option === 'free-delivery' ? i18n.translate('common.freeDelivery') : i18n.translate('common.coDelivery') }}
          </span>
        </div>

        <div class="supplier-categories">
          <span class="category-tag" *ngFor="let categoryId of supplier.categories">
            {{ getCategoryName(categoryId) }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="help-section">
    <div class="help-card">
      <h3>{{ i18n.translate('common.needHelpFindingSuppliers') }}</h3>
      <p>{{ i18n.translate('common.aiPoweredRecommendations') }}</p>
      <div class="help-features">
        <div class="feature" *ngFor="let feature of [i18n.translate('common.aiRecommendations'), i18n.translate('common.deliveryOptions'), i18n.translate('common.qualityAssurance')]">
          <i [class]="getFeatureIcon(feature)"></i>
          <span>{{ feature }}</span>
        </div>
      </div>
    </div>
  </div>
</div>